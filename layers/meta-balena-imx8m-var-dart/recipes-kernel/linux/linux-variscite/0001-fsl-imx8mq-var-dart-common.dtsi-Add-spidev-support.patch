From 2d9fad338fb39ea15978673af9d770c8f031a313 Mon Sep 17 00:00:00 2001
From: Alexandru Costache <alexandru@balena.io>
Date: Tue, 25 Feb 2020 13:28:51 +0100
Subject: [PATCH 2/2] fsl-imx8mq-var-dart-common.dtsi: Add spidev support

Upstream-Status: Inappropriate [configuration]
Signed-off-by: Alexandru Costache <alexandru@balena.io>
---
 .../boot/dts/freescale/fsl-imx8mq-var-dart-common.dtsi   | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/arch/arm64/boot/dts/freescale/fsl-imx8mq-var-dart-common.dtsi b/arch/arm64/boot/dts/freescale/fsl-imx8mq-var-dart-common.dtsi
index 7a7c43a26b5f..a231a686a16a 100644
--- a/arch/arm64/boot/dts/freescale/fsl-imx8mq-var-dart-common.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-imx8mq-var-dart-common.dtsi
@@ -1028,6 +1028,8 @@
 };
 
 &ecspi1 {
+	#address-cells = <1>;
+	#size-cells = <0>;
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_ecspi1>;
 	cs-gpios = <&gpio5  9 GPIO_ACTIVE_HIGH>,
@@ -1060,6 +1062,13 @@
 		status = "disabled";
 	};
 
+	spidev@1 {
+		compatible = "spidev";
+		spi-max-frequency = <12000000>;
+		reg = <1>;
+	};
+
+
 	can0: can@1 {
 		compatible = "microchip,mcp2517fd";
 		reg = <1>;
-- 
2.17.1

