From c74a9c4a90a82a50f4af2d4ef411331e64b3a463 Mon Sep 17 00:00:00 2001
From: Alexandru Costache <alexandru@balena.io>
Date: Wed, 29 Jul 2020 15:21:42 +0200
Subject: [PATCH] Enable i2c4 in uboot

Upstream-status: Inappropriate[configuration]
Signed-off-by: Alexandru Costache <alexandru@balena.io>
---
 arch/arm/dts/fsl-imx8mm-var-dart.dts | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

diff --git a/arch/arm/dts/fsl-imx8mm-var-dart.dts b/arch/arm/dts/fsl-imx8mm-var-dart.dts
index 2a469122d3..f78058a40c 100644
--- a/arch/arm/dts/fsl-imx8mm-var-dart.dts
+++ b/arch/arm/dts/fsl-imx8mm-var-dart.dts
@@ -98,6 +98,13 @@
 			>;
 		};
 
+                pinctrl_i2c4: i2c4grp {
+                        fsl,pins = <
+                                MX8MM_IOMUXC_I2C4_SCL_I2C4_SCL                  0x400001c3
+                                MX8MM_IOMUXC_I2C4_SDA_I2C4_SDA                  0x400001c3
+                        >;
+                };
+
 		pinctrl_pmic: pmicirq {
 			fsl,pins = <
 				MX8MM_IOMUXC_SD1_DATA6_GPIO2_IO8		0x41
@@ -378,6 +385,14 @@
 	status = "okay";
 };
 
+&i2c4 {
+        clock-frequency = <100000>;
+        pinctrl-names = "default";
+        pinctrl-0 = <&pinctrl_i2c4>;
+        status = "okay";
+};
+
+
 &fec1 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&pinctrl_fec1>;
-- 
2.17.1

